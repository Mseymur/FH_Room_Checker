import{Q as u,a as i,b as g,c as d,ta as o}from"./chunk-LIT7FYHP.js";import{e as r}from"./chunk-JHI3MBHO.js";var A=(()=>{let l=class l{constructor(e){this.http=e,this.buildings=[{code:"AP152",label:"Alte Poststra\xDFe 152"},{code:"AP147",label:"Alte Poststra\xDFe 147"},{code:"AP149",label:"Alte Poststra\xDFe 149"},{code:"AP154",label:"Alte Poststra\xDFe 154"},{code:"EA11",label:"Eggenberger Allee 11"},{code:"EA9",label:"Eggenberger Allee 9"},{code:"EA13",label:"Eggenberger Allee 13"},{code:"ES30i",label:"Eggenberger Stra\xDFe 30i"},{code:"ES7a",label:"Eggenberger Stra\xDFe 7a"},{code:"ES7b",label:"Eggenberger Stra\xDFe 7b"}],this.selectedBuildingCode="",this.selectedBuildingCode=localStorage.getItem("selectedBuildingCode")}setSelectedBuilding(e){this.selectedBuildingCode=e,localStorage.setItem("selectedBuildingCode",e)}getSelectedBuilding(){return this.selectedBuildingCode}initializeBuilding(e){return r(this,null,function*(){let t=yield i(this.http.post(`${o.apiBaseUrl}/buildings/initialize`,{buildingCode:e}));return this.setSelectedBuilding(e),t})}getRoomsNow(e,t,s){return r(this,null,function*(){let c=`${o.apiBaseUrl}/rooms/${e}/now`,a={};return t&&(a.date=t),s&&(a.time=s),Object.keys(a).length>0?i(this.http.get(c,{params:a})):i(this.http.get(c))})}getSchedule(e,t){return r(this,null,function*(){let s=`${o.apiBaseUrl}/rooms/${e}/schedule`;return t?i(this.http.get(s,{params:{date:t}})):i(this.http.get(s))})}syncAllBuildings(){return r(this,null,function*(){return i(this.http.post(`${o.apiBaseUrl}/system/sync-all`,{}))})}};l.\u0275fac=function(t){return new(t||l)(d(u))},l.\u0275prov=g({token:l,factory:l.\u0275fac,providedIn:"root"});let n=l;return n})();export{A as a};
