import{a as j,j as T}from"./chunk-ENFCXOGY.js";import{a as N}from"./chunk-UJE4CIQW.js";import{A as i,D as M,E as O,F as P,G as x,K as w,N as v,U as y,X as S,Y as E,Z as k,fa as B,h as l,i as s,j as C,ja as D,k as _,n as d,na as F,o as t,oa as I,p as n,q as g,qa as z,sa as A,t as b,z as f}from"./chunk-LIT7FYHP.js";import"./chunk-XE773CCY.js";import"./chunk-7KGURMOZ.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as h}from"./chunk-JHI3MBHO.js";function R(a,c){if(a&1&&(t(0,"ion-select-option",23),i(1),n()),a&2){let m=c.$implicit;d("value",m.code),l(),M(" ",m.code," - ",m.label," ")}}var Q=(()=>{let c=class c{constructor(r,o,e,p){this.buildingService=r,this.router=o,this.loadingCtrl=e,this.toastCtrl=p,this.selectedBuilding="",this.buildings=this.buildingService.buildings,this.loading=!1,this.RAW_DATA_KEY="building_raw_data",j({informationCircleOutline:T})}onNext(){return h(this,null,function*(){if(!this.selectedBuilding||this.loading)return;this.loading=!0;let r=yield this.loadingCtrl.create({message:`Syncing ${this.selectedBuilding} with University API...`,duration:0});yield r.present();try{let o=yield this.buildingService.initializeBuilding(this.selectedBuilding);yield r.dismiss(),this.loading=!1,sessionStorage.setItem(this.RAW_DATA_KEY,JSON.stringify(o.raw_content,null,2)),yield(yield this.toastCtrl.create({message:`Successfully synced ${this.selectedBuilding}!`,duration:2e3,color:"success",position:"top"})).present(),setTimeout(()=>{this.router.navigate(["/building-overview"])},500)}catch(o){yield r.dismiss(),this.loading=!1,console.error(o),(yield this.toastCtrl.create({message:o.error?.message||"Sync failed. Please check your connection and try again.",duration:4e3,color:"danger",position:"top",buttons:[{text:"Retry",handler:()=>this.onNext()}]})).present()}})}selectBuilding(r){this.buildingService.setSelectedBuilding(r)}};c.\u0275fac=function(o){return new(o||c)(s(N),s(y),s(F),s(I))},c.\u0275cmp=C({type:c,selectors:[["app-onboarding"]],decls:39,vars:10,consts:[[1,"onboarding-page",3,"fullscreen"],[1,"onboarding-container"],[1,"hero-section"],[1,"logo-container"],[1,"fh-logo"],[1,"logo-circle"],[1,"logo-text"],[1,"hero-title"],[1,"fh-text-gradient"],[1,"features-section"],[1,"feature-item"],[1,"feature-content"],[1,"title-wrapper"],["name","information-circle-outline",1,"feature-icon"],[1,"action-section"],[1,"selection-card"],[1,"card-header"],[1,"card-title"],[1,"card-description"],[1,"select-wrapper"],["label","Building","label-placement","stacked","placeholder","Select building...","interface","action-sheet",1,"building-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"action-button",3,"click","disabled"],[3,"value"]],template:function(o,e){o&1&&(t(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),g(5,"div",5),t(6,"span",6),i(7,"FH"),n()()(),t(8,"h1",7)(9,"span",8),i(10,"Room Checker"),n()()(),t(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),g(15,"ion-icon",13),t(16,"h3"),i(17,"Updates"),n()(),t(18,"p"),i(19,"Room availability is updated every 2 hours"),n()()(),t(20,"div",10),g(21,"ion-icon",13),t(22,"div",11)(23,"h3"),i(24,"Locations"),n(),t(25,"p"),i(26,"Access schedules for all FH Joanneum buildings"),n()()()(),t(27,"div",14)(28,"div",15)(29,"div",16)(30,"h2",17),i(31,"Select Your Building"),n(),t(32,"p",18),i(33,"We will show you all available rooms!"),n()(),t(34,"div",19)(35,"ion-select",20),x("ngModelChange",function(u){return P(e.selectedBuilding,u)||(e.selectedBuilding=u),u}),_(36,R,2,3,"ion-select-option",21),n()()(),t(37,"button",22),b("click",function(){return e.onNext()}),i(38," View Available Rooms "),n()()()()),o&2&&(d("fullscreen",!0),l(35),f("has-selection",e.selectedBuilding),O("ngModel",e.selectedBuilding),l(),d("ngForOf",e.buildings),l(),f("loading",e.loading)("enabled",e.selectedBuilding&&!e.loading),d("disabled",!e.selectedBuilding||e.loading))},dependencies:[v,w,k,S,E,B,z,A,D],styles:[".onboarding-page[_ngcontent-%COMP%]{--background: #F5F7FA;position:relative;overflow:hidden}.onboarding-container[_ngcontent-%COMP%]{max-width:480px;margin:0 auto;padding-top:calc(1rem + env(safe-area-inset-top));padding-bottom:calc(1rem + env(safe-area-inset-bottom));padding-left:calc(1rem + env(safe-area-inset-left));padding-right:calc(1rem + env(safe-area-inset-right));height:100vh;display:flex;flex-direction:column;z-index:1;justify-content:center!important}.hero-section[_ngcontent-%COMP%]{text-align:center;padding:.75rem 0 1rem}.hero-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:.75rem}.hero-section[_ngcontent-%COMP%]   .fh-logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:60px;height:60px;position:relative}.hero-section[_ngcontent-%COMP%]   .fh-logo[_ngcontent-%COMP%]   .logo-circle[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background:linear-gradient(135deg,#d6001c,#b00017);box-shadow:0 4px 16px #d6001c40}.hero-section[_ngcontent-%COMP%]   .fh-logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff;font-size:1.5rem;font-weight:700;letter-spacing:-.5px}.hero-section[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-weight:800;margin:0 0 .375rem;line-height:1.2;letter-spacing:-1px;color:#d6001c}.hero-section[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]   .fh-text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d6001c,#ff1a3d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-section[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#495057;line-height:1.5;max-width:280px;margin:0 auto;font-weight:400}.selection-card[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1rem;background:#fff;border-radius:16px;border:1px solid #E9ECEF;box-shadow:0 2px 8px #00000014;text-align:left}.selection-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.selection-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#212529;margin:0 0 .375rem}.selection-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{color:#6c757d;margin:0;font-weight:400;line-height:1.4}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{margin-bottom:0}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .building-select[_ngcontent-%COMP%]{width:100%;--padding-start: 1rem;--padding-end: 1rem;--min-height: 48px;border:1px solid #DEE2E6;border-radius:12px;background:#fff;transition:all .2s;color:#212529;font-size:.9375rem;font-weight:500;--label-color: #6C757D;--label-font-size: .75rem;--label-font-weight: 500;--label-margin-bottom: .5rem;--placeholder-color: #ADB5BD;--placeholder-opacity: 1;--icon-color: #6C757D;--highlight-color: #d6001d;--border-color: #D6001C;--highlight-color-focused: #D6001C}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .building-select[_ngcontent-%COMP%]:hover:not(:focus-within){border-color:#ced4da}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .building-select[_ngcontent-%COMP%]:focus-within{border-color:#d6001c;box-shadow:0 0 0 3px #d6001c1a;--icon-color: #D6001C}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .building-select.has-selection[_ngcontent-%COMP%]{border-color:#d6001c;--icon-color: #D6001C}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .building-select.has-selection[_ngcontent-%COMP%]:focus-within{border-color:#d6001c;box-shadow:0 0 0 3px #d6001c1a}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;margin:.5rem 0 0;display:flex;align-items:center;gap:.375rem;font-weight:400}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .helper-text.success[_ngcontent-%COMP%]{color:#d6001c}.selection-card[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .helper-text.success[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem;color:#d6001c}.features-section[_ngcontent-%COMP%]{margin-bottom:1rem}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:1.2rem 1rem;background:#fff;border-radius:10px;margin-bottom:.5rem;border:1px solid #E9ECEF;opacity:.9}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:1.125rem;color:#000;flex-shrink:0;margin-top:.125rem}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{flex:1}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{flex-direction:row!important}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#212529;margin:0 0 .125rem}.features-section[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0;line-height:1.4}.action-section[_ngcontent-%COMP%]{text-align:center;margin-top:auto;padding-top:.75rem}.action-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;min-height:48px;padding:.875rem 2rem;font-size:16px;font-weight:700;letter-spacing:.3px;border-radius:12px;border:none;cursor:pointer;transition:all .2s;background:#adb5bd;color:#fff;box-shadow:none}.action-section[_ngcontent-%COMP%]   .action-button.enabled[_ngcontent-%COMP%]{background:#d6001c;color:#fff;box-shadow:0 4px 12px #d6001c4d}.action-section[_ngcontent-%COMP%]   .action-button.enabled[_ngcontent-%COMP%]:hover:not(:disabled){background:#b00017;transform:translateY(-1px);box-shadow:0 6px 16px #d6001c66}.action-section[_ngcontent-%COMP%]   .action-button.enabled[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.action-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.action-section[_ngcontent-%COMP%]   .action-button.loading[_ngcontent-%COMP%]{pointer-events:none;background:#d6001c}.action-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.action-section[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .button-content[_ngcontent-%COMP%]   .button-spinner[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem}.action-section[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.375rem;font-size:.6875rem;color:#6c757d;margin:.625rem 0 0;font-weight:400}.action-section[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.75rem;color:#adb5bd}@media (max-width: 480px){.onboarding-container[_ngcontent-%COMP%]{padding-top:calc(.75rem + env(safe-area-inset-top));padding-bottom:calc(1.25rem + env(safe-area-inset-bottom));padding-left:calc(1rem + env(safe-area-inset-left));padding-right:calc(1rem + env(safe-area-inset-right))}.hero-section[_ngcontent-%COMP%]{padding:.5rem 0 .75rem}.selection-card[_ngcontent-%COMP%]{padding:1rem}}"]});let a=c;return a})();export{Q as OnboardingPage};
